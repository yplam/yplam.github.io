<!DOCTYPE html>
<html lang="zh-cn" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>比特米刷机记录 | YPLAM</title>
<meta name="keywords" content="Linux, OpenWRT">
<meta name="description" content="家里虽然部署了一台 Gen8 Micro 用作 NAS，但最近想针对一些重要内容增加一份本地备份，于是咸鱼上找一下矿渣，找到这台金色比特米。">
<meta name="author" content="">
<link rel="canonical" href="https://yplam.com/posts/linux/p212/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8a2a5b863c538395920b4f077c6697be31878d530618647d78daca2883f21ff1.css" integrity="sha256-iipbhjxTg5WSC08HfGaXvjGHjVMGGGR9eNrKKIPyH/E=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://yplam.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://yplam.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://yplam.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://yplam.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://yplam.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="https://yplam.com/posts/linux/p212/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-960JLZS3KY"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-960JLZS3KY');
        }
      </script><meta property="og:url" content="https://yplam.com/posts/linux/p212/">
  <meta property="og:site_name" content="YPLAM">
  <meta property="og:title" content="比特米刷机记录">
  <meta property="og:description" content="家里虽然部署了一台 Gen8 Micro 用作 NAS，但最近想针对一些重要内容增加一份本地备份，于是咸鱼上找一下矿渣，找到这台金色比特米。">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-07-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-07-08T00:00:00+00:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="OpenWRT">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="比特米刷机记录">
<meta name="twitter:description" content="家里虽然部署了一台 Gen8 Micro 用作 NAS，但最近想针对一些重要内容增加一份本地备份，于是咸鱼上找一下矿渣，找到这台金色比特米。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://yplam.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "比特米刷机记录",
      "item": "https://yplam.com/posts/linux/p212/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "比特米刷机记录",
  "name": "比特米刷机记录",
  "description": "家里虽然部署了一台 Gen8 Micro 用作 NAS，但最近想针对一些重要内容增加一份本地备份，于是咸鱼上找一下矿渣，找到这台金色比特米。\n",
  "keywords": [
    "Linux", "OpenWRT"
  ],
  "articleBody": "家里虽然部署了一台 Gen8 Micro 用作 NAS，但最近想针对一些重要内容增加一份本地备份，于是咸鱼上找一下矿渣，找到这台金色比特米。\nU 盘烧录 Armbian_23.08.0_amlogic_s905x_bullseye_5.15.120_server_2023.07.08.img.gz\n接上鼠标键盘（USB口可能供电不足，无法同时支持多个设备接入，建议使用可外接供电的 USB hub），HDMI开机，发现可进入 Android 系统，点击配置图标，可进入标准的 Android 设置页，点击几下版本号，可打开开发者模式\n配置好IP，网线连上电脑，adb connect 192.168.x.x 然后选择允许即可 adb shell 接入\n重命名 切换卡载系统V1.1.20180808.apk 到 20180808.apk，然后通过 adb 安装与启用：\nadb install 20180808.apk adb shell monkey -p cn.edu.tit.reboot -c android.intent.category.LAUNCHER 1 在弹出界面选择第一次安装/启用，接上U盘，重启可进入 armbian\narmbian 常规设置后，可远程 root ssh 登录\n挂载sd卡，先备份整个 mmc，并校验（注意：如果使用fat32可能无法完整备份）：\ndd if=/dev/mmcblk2 of=/mnt/data/p212_mmc_backup.img bs=4M status=progress sha256sum /dev/mmcblk2 分析旧 mmc 分区，其中 /dev/mmcblk2p2 包含分区表与结构\nhexdump -C -n 10240 /dev/mmcblk2p2 00000000 4d 50 54 00 30 31 2e 30 30 2e 30 30 00 00 00 00 |MPT.01.00.00….| 00000010 0f 00 00 00 fd c1 03 b8 62 6f 6f 74 6c 6f 61 64 |……..bootload| 00000020 65 72 00 00 00 00 00 00 00 00 40 00 00 00 00 00 |er……..@…..| 00000030 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 |…………….| 00000040 72 65 73 65 72 76 65 64 00 00 00 00 00 00 00 00 |reserved……..| 00000050 00 00 00 04 00 00 00 00 00 00 40 02 00 00 00 00 |……….@…..| 00000060 00 00 00 00 00 00 00 00 63 61 63 68 65 00 00 00 |……..cache…| 00000070 00 00 00 00 00 00 00 00 00 00 00 20 00 00 00 00 |……….. ….| 00000080 00 00 c0 06 00 00 00 00 02 00 00 00 00 00 00 00 |…………….| 00000090 65 6e 76 00 00 00 00 00 00 00 00 00 00 00 00 00 |env………….| 000000a0 00 00 80 00 00 00 00 00 00 00 40 27 00 00 00 00 |……….@’….| 000000b0 00 00 00 00 00 00 00 00 6c 6f 67 6f 00 00 00 00 |……..logo….| 000000c0 00 00 00 00 00 00 00 00 00 00 00 02 00 00 00 00 |…………….| 000000d0 00 00 40 28 00 00 00 00 01 00 00 00 00 00 00 00 |..@(…………| 000000e0 72 65 63 6f 76 65 72 79 00 00 00 00 00 00 00 00 |recovery……..| 000000f0 00 00 00 02 00 00 00 00 00 00 c0 2a 00 00 00 00 |………..*….| 00000100 01 00 00 00 00 00 00 00 72 73 76 00 00 00 00 00 |……..rsv…..| 00000110 00 00 00 00 00 00 00 00 00 00 80 00 00 00 00 00 |…………….| 00000120 00 00 40 2d 00 00 00 00 01 00 00 00 00 00 00 00 |..@-…………| 00000130 74 65 65 00 00 00 00 00 00 00 00 00 00 00 00 00 |tee………….| 00000140 00 00 80 00 00 00 00 00 00 00 40 2e 00 00 00 00 |……….@…..| 00000150 01 00 00 00 00 00 00 00 63 72 79 70 74 00 00 00 |……..crypt…| 00000160 00 00 00 00 00 00 00 00 00 00 00 02 00 00 00 00 |…………….| 00000170 00 00 40 2f 00 00 00 00 01 00 00 00 00 00 00 00 |..@/…………| 00000180 6d 69 73 63 00 00 00 00 00 00 00 00 00 00 00 00 |misc…………| 00000190 00 00 00 02 00 00 00 00 00 00 c0 31 00 00 00 00 |………..1….| 000001a0 01 00 00 00 00 00 00 00 69 6e 73 74 61 62 6f 6f |……..instaboo| 000001b0 74 00 00 00 00 00 00 00 00 00 00 20 00 00 00 00 |t………. ….| 000001c0 00 00 40 34 00 00 00 00 01 00 00 00 00 00 00 00 |..@4…………| 000001d0 62 6f 6f 74 00 00 00 00 00 00 00 00 00 00 00 00 |boot…………| 000001e0 00 00 00 02 00 00 00 00 00 00 c0 54 00 00 00 00 |………..T….| 000001f0 01 00 00 00 00 00 00 00 73 79 73 74 65 6d 00 00 |……..system..| 00000200 00 00 00 00 00 00 00 00 00 00 00 40 00 00 00 00 |………..@….| 00000210 00 00 40 57 00 00 00 00 01 00 00 00 00 00 00 00 |..@W…………| 00000220 63 68 61 6f 6d 69 00 00 00 00 00 00 00 00 00 00 |chaomi……….| 00000230 00 00 00 60 00 00 00 00 00 00 c0 97 00 00 00 00 |…`…………| 00000240 01 00 00 00 00 00 00 00 64 61 74 61 00 00 00 00 |……..data….| 00000250 00 00 00 00 00 00 00 00 00 00 c0 d9 00 00 00 00 |…………….| 00000260 00 00 40 f8 00 00 00 00 04 00 00 00 00 00 00 00 |..@………….| 00000270 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 |…………….| * 00002800\n猜测 /dev/mmcblk2p13 为内核，在 00000800 offset 找到 1f8b0808 magic\n寻找 dtb：\n通过 binwalk -R ‘\\xd0\\x0d\\xfe\\xed’ p212_mmc_backup.img 查找 dtb 特征\nbinwalk -R '\\xd0\\x0d\\xfe\\xed' p212_mmc_backup.img DECIMAL HEXADECIMAL DESCRIPTION -------------------------------------------------------------------------------- 41945088 0x2800800 Raw signature (\\xd0\\x0d\\xfe\\xed) 41986048 0x280A800 Raw signature (\\xd0\\x0d\\xfe\\xed) 42207232 0x2840800 Raw signature (\\xd0\\x0d\\xfe\\xed) 42248192 0x284A800 Raw signature (\\xd0\\x0d\\xfe\\xed) 728629248 0x2B6E0000 Raw signature (\\xd0\\x0d\\xfe\\xed) 728670208 0x2B6EA000 Raw signature (\\xd0\\x0d\\xfe\\xed) 1430345728 0x55415800 Raw signature (\\xd0\\x0d\\xfe\\xed) 1430386688 0x5541F800 Raw signature (\\xd0\\x0d\\xfe\\xed) 然后\ndd if=../p212_mmc_backup.img of=./dtb.dtb bs=1 skip=$((0x2800800)) count=$((1024*1024)) dtc -I dtb -O dts -o dtb.dts dtb.dtb 安装 armbian：\numount 所有分区 dd if=/dev/zero of=/dev/mmcblk2 bs=512 count=1 conv=fsync 清空分区表 运行 armbian-install，选择设备ID 105，等待 ",
  "wordCount" : "884",
  "inLanguage": "zh-cn",
  "datePublished": "2023-07-08T00:00:00Z",
  "dateModified": "2023-07-08T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://yplam.com/posts/linux/p212/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "YPLAM",
    "logo": {
      "@type": "ImageObject",
      "url": "https://yplam.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://yplam.com/" title="YPLAM">
                    <span>HOME</span>

                </a>
            </li>
            <li>
                <a href="https://yplam.com/about/" title="关于YPLam">
                    <span>ABOUT</span>

                </a>
            </li>
            <li>
                <a href="https://github.com/yplam" title="GITHUB">
                    <span>GITHUB</span>

                </a>
            </li>
            <li>
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      比特米刷机记录
    </h1>
    <div class="post-meta"><span title='2023-07-08 00:00:00 +0000 UTC'>2023-07-08</span>

</div>
  </header> 
  <div class="post-content"><p>家里虽然部署了一台 Gen8 Micro 用作 NAS，但最近想针对一些重要内容增加一份本地备份，于是咸鱼上找一下矿渣，找到这台金色比特米。</p>
<p>U 盘烧录 Armbian_23.08.0_amlogic_s905x_bullseye_5.15.120_server_2023.07.08.img.gz</p>
<p>接上鼠标键盘（USB口可能供电不足，无法同时支持多个设备接入，建议使用可外接供电的 USB hub），HDMI开机，发现可进入 Android 系统，点击配置图标，可进入标准的 Android 设置页，点击几下版本号，可打开开发者模式</p>
<p>配置好IP，网线连上电脑，adb connect 192.168.x.x 然后选择允许即可 adb shell 接入</p>
<p>重命名 切换卡载系统V1.1.20180808.apk 到 20180808.apk，然后通过 adb 安装与启用：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">adb install 20180808.apk
</span></span><span class="line"><span class="cl">adb shell monkey -p cn.edu.tit.reboot -c android.intent.category.LAUNCHER <span class="m">1</span>
</span></span></code></pre></div><p>在弹出界面选择第一次安装/启用，接上U盘，重启可进入 armbian</p>
<p>armbian 常规设置后，可远程 root ssh 登录</p>
<p>挂载sd卡，先备份整个 mmc，并校验（注意：如果使用fat32可能无法完整备份）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dd <span class="k">if</span><span class="o">=</span>/dev/mmcblk2 <span class="nv">of</span><span class="o">=</span>/mnt/data/p212_mmc_backup.img <span class="nv">bs</span><span class="o">=</span>4M <span class="nv">status</span><span class="o">=</span>progress
</span></span><span class="line"><span class="cl">sha256sum /dev/mmcblk2
</span></span></code></pre></div><p>分析旧 mmc 分区，其中 /dev/mmcblk2p2 包含分区表与结构</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hexdump -C -n <span class="m">10240</span> /dev/mmcblk2p2
</span></span></code></pre></div><p>00000000  4d 50 54 00 30 31 2e 30  30 2e 30 30 00 00 00 00  |MPT.01.00.00&hellip;.|
00000010  0f 00 00 00 fd c1 03 b8  62 6f 6f 74 6c 6f 61 64  |&hellip;&hellip;..bootload|
00000020  65 72 00 00 00 00 00 00  00 00 40 00 00 00 00 00  |er&hellip;&hellip;..@&hellip;..|
00000030  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
00000040  72 65 73 65 72 76 65 64  00 00 00 00 00 00 00 00  |reserved&hellip;&hellip;..|
00000050  00 00 00 04 00 00 00 00  00 00 40 02 00 00 00 00  |&hellip;&hellip;&hellip;.@&hellip;..|
00000060  00 00 00 00 00 00 00 00  63 61 63 68 65 00 00 00  |&hellip;&hellip;..cache&hellip;|
00000070  00 00 00 00 00 00 00 00  00 00 00 20 00 00 00 00  |&hellip;&hellip;&hellip;.. &hellip;.|
00000080  00 00 c0 06 00 00 00 00  02 00 00 00 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
00000090  65 6e 76 00 00 00 00 00  00 00 00 00 00 00 00 00  |env&hellip;&hellip;&hellip;&hellip;.|
000000a0  00 00 80 00 00 00 00 00  00 00 40 27 00 00 00 00  |&hellip;&hellip;&hellip;.@&rsquo;&hellip;.|
000000b0  00 00 00 00 00 00 00 00  6c 6f 67 6f 00 00 00 00  |&hellip;&hellip;..logo&hellip;.|
000000c0  00 00 00 00 00 00 00 00  00 00 00 02 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
000000d0  00 00 40 28 00 00 00 00  01 00 00 00 00 00 00 00  |..@(&hellip;&hellip;&hellip;&hellip;|
000000e0  72 65 63 6f 76 65 72 79  00 00 00 00 00 00 00 00  |recovery&hellip;&hellip;..|
000000f0  00 00 00 02 00 00 00 00  00 00 c0 2a 00 00 00 00  |&hellip;&hellip;&hellip;..*&hellip;.|
00000100  01 00 00 00 00 00 00 00  72 73 76 00 00 00 00 00  |&hellip;&hellip;..rsv&hellip;..|
00000110  00 00 00 00 00 00 00 00  00 00 80 00 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
00000120  00 00 40 2d 00 00 00 00  01 00 00 00 00 00 00 00  |..@-&hellip;&hellip;&hellip;&hellip;|
00000130  74 65 65 00 00 00 00 00  00 00 00 00 00 00 00 00  |tee&hellip;&hellip;&hellip;&hellip;.|
00000140  00 00 80 00 00 00 00 00  00 00 40 2e 00 00 00 00  |&hellip;&hellip;&hellip;.@&hellip;..|
00000150  01 00 00 00 00 00 00 00  63 72 79 70 74 00 00 00  |&hellip;&hellip;..crypt&hellip;|
00000160  00 00 00 00 00 00 00 00  00 00 00 02 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
00000170  00 00 40 2f 00 00 00 00  01 00 00 00 00 00 00 00  |..@/&hellip;&hellip;&hellip;&hellip;|
00000180  6d 69 73 63 00 00 00 00  00 00 00 00 00 00 00 00  |misc&hellip;&hellip;&hellip;&hellip;|
00000190  00 00 00 02 00 00 00 00  00 00 c0 31 00 00 00 00  |&hellip;&hellip;&hellip;..1&hellip;.|
000001a0  01 00 00 00 00 00 00 00  69 6e 73 74 61 62 6f 6f  |&hellip;&hellip;..instaboo|
000001b0  74 00 00 00 00 00 00 00  00 00 00 20 00 00 00 00  |t&hellip;&hellip;&hellip;. &hellip;.|
000001c0  00 00 40 34 00 00 00 00  01 00 00 00 00 00 00 00  |..@4&hellip;&hellip;&hellip;&hellip;|
000001d0  62 6f 6f 74 00 00 00 00  00 00 00 00 00 00 00 00  |boot&hellip;&hellip;&hellip;&hellip;|
000001e0  00 00 00 02 00 00 00 00  00 00 c0 54 00 00 00 00  |&hellip;&hellip;&hellip;..T&hellip;.|
000001f0  01 00 00 00 00 00 00 00  73 79 73 74 65 6d 00 00  |&hellip;&hellip;..system..|
00000200  00 00 00 00 00 00 00 00  00 00 00 40 00 00 00 00  |&hellip;&hellip;&hellip;..@&hellip;.|
00000210  00 00 40 57 00 00 00 00  01 00 00 00 00 00 00 00  |..@W&hellip;&hellip;&hellip;&hellip;|
00000220  63 68 61 6f 6d 69 00 00  00 00 00 00 00 00 00 00  |chaomi&hellip;&hellip;&hellip;.|
00000230  00 00 00 60 00 00 00 00  00 00 c0 97 00 00 00 00  |&hellip;`&hellip;&hellip;&hellip;&hellip;|
00000240  01 00 00 00 00 00 00 00  64 61 74 61 00 00 00 00  |&hellip;&hellip;..data&hellip;.|
00000250  00 00 00 00 00 00 00 00  00 00 c0 d9 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
00000260  00 00 40 f8 00 00 00 00  04 00 00 00 00 00 00 00  |..@&hellip;&hellip;&hellip;&hellip;.|
00000270  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |&hellip;&hellip;&hellip;&hellip;&hellip;.|
*
00002800</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"></code></pre></div><p>猜测 /dev/mmcblk2p13 为内核，在 00000800 offset 找到 1f8b0808 magic</p>
<p>寻找 dtb：</p>
<p>通过 binwalk -R &lsquo;\xd0\x0d\xfe\xed&rsquo; p212_mmc_backup.img 查找 dtb 特征</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">binwalk -R &#39;\xd0\x0d\xfe\xed&#39; p212_mmc_backup.img 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">DECIMAL       HEXADECIMAL     DESCRIPTION
</span></span><span class="line"><span class="cl">--------------------------------------------------------------------------------
</span></span><span class="line"><span class="cl">41945088      0x2800800       Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">41986048      0x280A800       Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">42207232      0x2840800       Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">42248192      0x284A800       Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">728629248     0x2B6E0000      Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">728670208     0x2B6EA000      Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">1430345728    0x55415800      Raw signature (\xd0\x0d\xfe\xed)
</span></span><span class="line"><span class="cl">1430386688    0x5541F800      Raw signature (\xd0\x0d\xfe\xed)
</span></span></code></pre></div><p>然后</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dd <span class="k">if</span><span class="o">=</span>../p212_mmc_backup.img <span class="nv">of</span><span class="o">=</span>./dtb.dtb <span class="nv">bs</span><span class="o">=</span><span class="m">1</span> <span class="nv">skip</span><span class="o">=</span><span class="k">$((</span><span class="m">0</span>x2800800<span class="k">))</span> <span class="nv">count</span><span class="o">=</span><span class="k">$((</span><span class="m">1024</span><span class="o">*</span><span class="m">1024</span><span class="k">))</span>
</span></span><span class="line"><span class="cl">dtc -I dtb -O dts -o dtb.dts dtb.dtb
</span></span></code></pre></div><p>安装 armbian：</p>
<ul>
<li>umount 所有分区</li>
<li>dd if=/dev/zero of=/dev/mmcblk2 bs=512 count=1 conv=fsync 清空分区表</li>
<li>运行 armbian-install，选择设备ID 105，等待</li>
</ul>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://yplam.com/tags/linux/">Linux</a></li>
      <li><a href="https://yplam.com/tags/openwrt/">OpenWRT</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://yplam.com/">YPLAM</a></span> · 

    <a href="https://creativecommons.org/licenses/by-sa/4.0/">
        CC BY-SA 4.0
    </a>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
